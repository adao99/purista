<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://purista.dev/handbook/0_concept.html"><meta property="og:site_name" content="PURISTA"><meta property="og:title" content="Concept of the nodejs PURISTA typescript based framework"><meta property="og:description" content="A general description of the concept of the typescript based nodejs backend PURISTA."><meta property="og:type" content="article"><meta property="og:image" content="/purista_slogan.png"><meta property="og:updated_time" content="2022-08-02T16:23:24.000Z"><meta property="og:locale" content="en-US"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="Concept of the nodejs PURISTA typescript based framework"><meta property="article:tag" content="typescript"><meta property="article:tag" content="nodejs"><meta property="article:tag" content="javascript"><meta property="article:tag" content="backend"><meta property="article:tag" content="framework"><meta property="article:tag" content="cloud"><meta property="article:tag" content="microservice"><meta property="article:tag" content="lambda"><meta property="article:tag" content="Installation"><meta property="article:tag" content="Setup"><meta property="article:tag" content="Guide"><meta property="article:modified_time" content="2022-08-02T16:23:24.000Z"><title>Concept of the nodejs PURISTA typescript based framework | PURISTA</title><meta name="description" content="A general description of the concept of the typescript based nodejs backend PURISTA.">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.09221e1f.css">
    <link rel="modulepreload" href="/assets/app.520110ff.js"><link rel="modulepreload" href="/assets/0_concept.html.5254d2bc.js"><link rel="modulepreload" href="/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/assets/0_concept.html.cbd60487.js"><link rel="prefetch" href="/assets/index.html.21b1c031.js"><link rel="prefetch" href="/assets/imprint.html.33a09a2c.js"><link rel="prefetch" href="/assets/intro.html.c9f6b16d.js"><link rel="prefetch" href="/assets/privacy.html.2e2ab778.js"><link rel="prefetch" href="/assets/index.html.1858e7a6.js"><link rel="prefetch" href="/assets/10_insights.html.4e64e2c8.js"><link rel="prefetch" href="/assets/11_Builder.html.428c31f7.js"><link rel="prefetch" href="/assets/1_get-started.html.c333a0f9.js"><link rel="prefetch" href="/assets/2_create-new-service.html.ad885a1f.js"><link rel="prefetch" href="/assets/3_error-handling.html.3d19304c.js"><link rel="prefetch" href="/assets/4_hooks.html.76dc5232.js"><link rel="prefetch" href="/assets/5_custom_events.html.a2260623.js"><link rel="prefetch" href="/assets/6_testing.html.b1321e08.js"><link rel="prefetch" href="/assets/7_scale.html.02b728d1.js"><link rel="prefetch" href="/assets/8_Logging_and_metrics.html.dadaaeaf.js"><link rel="prefetch" href="/assets/9_Event_bridge.html.0b3e7544.js"><link rel="prefetch" href="/assets/index.html.bd0ff8f2.js"><link rel="prefetch" href="/assets/articles.html.13e2285d.js"><link rel="prefetch" href="/assets/books.html.153f3a12.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.EBMessageType.html.6a836fd2.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.StatusCode.html.bb5e4ccd.js"><link rel="prefetch" href="/assets/purista_core.EBMessageType.html.eb89e465.js"><link rel="prefetch" href="/assets/purista_core.StatusCode.html.0a1859d3.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.EBMessageType.html.1d5fb628.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.StatusCode.html.ee57cc4c.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.IEmitter.html.025cd00b.js"><link rel="prefetch" href="/assets/purista_core.IEmitter.html.676591d8.js"><link rel="prefetch" href="/assets/purista_core.IServiceClass.html.dfbd577e.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.IEmitter.html.336f90c6.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.IServiceClass.html.a0bc8311.js"><link rel="prefetch" href="/assets/purista_amqpbridge.AmqpBridge.html.79836c6f.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.EventBridge.html.3de8ca54.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.GenericEventEmitter.html.d0edfa79.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.HandledError.html.76425883.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.Logger.html.32c21b0b.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.UnhandledError.html.ee57a58d.js"><link rel="prefetch" href="/assets/purista_core.DefaultEventBridge.html.bb077ad9.js"><link rel="prefetch" href="/assets/purista_core.EventBridge.html.d991d185.js"><link rel="prefetch" href="/assets/purista_core.FunctionDefinitionBuilder.html.ce4910e7.js"><link rel="prefetch" href="/assets/purista_core.GenericEventEmitter.html.5fa82ebf.js"><link rel="prefetch" href="/assets/purista_core.HandledError.html.badbceeb.js"><link rel="prefetch" href="/assets/purista_core.Logger.html.8f2a2674.js"><link rel="prefetch" href="/assets/purista_core.Service.html.8cdf19e0.js"><link rel="prefetch" href="/assets/purista_core.ServiceBuilder.html.15627adb.js"><link rel="prefetch" href="/assets/purista_core.ServiceClass.html.b8de104e.js"><link rel="prefetch" href="/assets/purista_core.SubscriptionDefinitionBuilder.html.85f6fd4f.js"><link rel="prefetch" href="/assets/purista_core.UnhandledError.html.4c70b74c.js"><link rel="prefetch" href="/assets/purista_httpserver.HttpServerService.html.8aaa6027.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.EventBridge.html.3bfb8fa2.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.GenericEventEmitter.html.9c2f4cee.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.HandledError.html.6619ba95.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.Logger.html.dffb93db.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.Service.html.3231ba3b.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.ServiceClass.html.5967035d.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.UnhandledError.html.581f7c19.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.html.bd29085a.js"><link rel="prefetch" href="/assets/purista_amqpbridge.html.6dcb7c53.js"><link rel="prefetch" href="/assets/purista_core.internal.html.ac65f439.js"><link rel="prefetch" href="/assets/purista_core.html.ca104fc0.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.html.bde2e6a9.js"><link rel="prefetch" href="/assets/purista_httpserver.html.823d4352.js"><link rel="prefetch" href="/assets/404.html.277ba7f0.js"><link rel="prefetch" href="/assets/index.html.ab2b8173.js"><link rel="prefetch" href="/assets/imprint.html.38ad34b5.js"><link rel="prefetch" href="/assets/intro.html.3de7461e.js"><link rel="prefetch" href="/assets/privacy.html.5d3ef528.js"><link rel="prefetch" href="/assets/index.html.ea9c7c04.js"><link rel="prefetch" href="/assets/10_insights.html.c5cec587.js"><link rel="prefetch" href="/assets/11_Builder.html.8094b1ef.js"><link rel="prefetch" href="/assets/1_get-started.html.a31a95d9.js"><link rel="prefetch" href="/assets/2_create-new-service.html.08b3d9f9.js"><link rel="prefetch" href="/assets/3_error-handling.html.763e1369.js"><link rel="prefetch" href="/assets/4_hooks.html.9dc0a2e6.js"><link rel="prefetch" href="/assets/5_custom_events.html.aea14234.js"><link rel="prefetch" href="/assets/6_testing.html.738cb4de.js"><link rel="prefetch" href="/assets/7_scale.html.e776a4f6.js"><link rel="prefetch" href="/assets/8_Logging_and_metrics.html.c726cdce.js"><link rel="prefetch" href="/assets/9_Event_bridge.html.8c35bac7.js"><link rel="prefetch" href="/assets/index.html.a0d9d7cf.js"><link rel="prefetch" href="/assets/articles.html.f91d369e.js"><link rel="prefetch" href="/assets/books.html.2fa0ad78.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.EBMessageType.html.9ac444d9.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.StatusCode.html.a1c60030.js"><link rel="prefetch" href="/assets/purista_core.EBMessageType.html.f23d2f28.js"><link rel="prefetch" href="/assets/purista_core.StatusCode.html.e44106b8.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.EBMessageType.html.faaa301a.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.StatusCode.html.030b6059.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.IEmitter.html.e0066001.js"><link rel="prefetch" href="/assets/purista_core.IEmitter.html.fa15ed3a.js"><link rel="prefetch" href="/assets/purista_core.IServiceClass.html.bc3c69a3.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.IEmitter.html.c669edf3.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.IServiceClass.html.0ec315f3.js"><link rel="prefetch" href="/assets/purista_amqpbridge.AmqpBridge.html.cd265c83.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.EventBridge.html.573e6cf9.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.GenericEventEmitter.html.1bd565d9.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.HandledError.html.05d1d07d.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.Logger.html.e920b0f8.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.UnhandledError.html.717ac516.js"><link rel="prefetch" href="/assets/purista_core.DefaultEventBridge.html.77ca86df.js"><link rel="prefetch" href="/assets/purista_core.EventBridge.html.5b3b84f8.js"><link rel="prefetch" href="/assets/purista_core.FunctionDefinitionBuilder.html.e9cf6398.js"><link rel="prefetch" href="/assets/purista_core.GenericEventEmitter.html.483a6da5.js"><link rel="prefetch" href="/assets/purista_core.HandledError.html.fe687c30.js"><link rel="prefetch" href="/assets/purista_core.Logger.html.35168d07.js"><link rel="prefetch" href="/assets/purista_core.Service.html.4551a1f1.js"><link rel="prefetch" href="/assets/purista_core.ServiceBuilder.html.71ce4f6d.js"><link rel="prefetch" href="/assets/purista_core.ServiceClass.html.7f15567e.js"><link rel="prefetch" href="/assets/purista_core.SubscriptionDefinitionBuilder.html.97a7e733.js"><link rel="prefetch" href="/assets/purista_core.UnhandledError.html.a6246574.js"><link rel="prefetch" href="/assets/purista_httpserver.HttpServerService.html.8f6e37f4.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.EventBridge.html.8e4b7e42.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.GenericEventEmitter.html.1aaadeb5.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.HandledError.html.0992c238.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.Logger.html.f86c2294.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.Service.html.776dacee.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.ServiceClass.html.ef18f898.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.UnhandledError.html.d3801b67.js"><link rel="prefetch" href="/assets/purista_amqpbridge.internal.html.0b424a13.js"><link rel="prefetch" href="/assets/purista_amqpbridge.html.5218da28.js"><link rel="prefetch" href="/assets/purista_core.internal.html.5374256c.js"><link rel="prefetch" href="/assets/purista_core.html.cd902715.js"><link rel="prefetch" href="/assets/purista_httpserver.internal.html.8a6a3b67.js"><link rel="prefetch" href="/assets/purista_httpserver.html.157a74df.js"><link rel="prefetch" href="/assets/404.html.529403f8.js"><link rel="prefetch" href="/assets/highlight.esm.ac8a0a05.js"><link rel="prefetch" href="/assets/markdown.esm.a8dd9839.js"><link rel="prefetch" href="/assets/math.esm.dcbc476b.js"><link rel="prefetch" href="/assets/notes.esm.83fcd1e6.js"><link rel="prefetch" href="/assets/reveal.esm.58b9e9e0.js"><link rel="prefetch" href="/assets/search.esm.9551dfe4.js"><link rel="prefetch" href="/assets/zoom.esm.cd98ed57.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><!----><!----><span class="site-name">PURISTA</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/handbook/1_get-started.html" class="nav-link" aria-label="Handbook"><!---->Handbook<!----></a></div><div class="nav-item hide-in-mobile"><a href="/api" class="nav-link" aria-label="API"><!---->API<!----></a></div><div class="nav-item hide-in-mobile"><a href="/resources" class="nav-link" aria-label="Resources"><!---->Resources<!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/sebastianwessel/purista" target="_blank" rel="noopener noreferrer" aria-label="PURISTA"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/handbook/0_concept.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Concept"><span class="icon fa-brain fas"></span>Concept<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#main-idea" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Main idea"><!---->Main idea<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#example" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Example"><!---->Example<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#seriously-a-new-framework" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Seriously, a new framework"><!---->Seriously, a new framework<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#the-old-stars" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="The old stars"><!---->The old stars<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#the-unicorns" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="The unicorns"><!---->The unicorns<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#the-philosophers" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="The philosophers"><!---->The philosophers<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#purista" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="PURISTA"><!---->PURISTA<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#focus-on-business-logic" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Focus on business logic"><!---->Focus on business logic<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#separation-of-concerns" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Separation of concerns"><!---->Separation of concerns<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#decuple-from-infrastructure-and-architecture" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Decuple from infrastructure and architecture"><!---->Decuple from infrastructure and architecture<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#k-i-s-s" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="K.I.S.S."><!---->K.I.S.S.<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#low-learning-curve" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Low learning curve"><!---->Low learning curve<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#predictable-behaviour" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Predictable behaviour"><!---->Predictable behaviour<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#maintenance" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Maintenance"><!---->Maintenance<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#security" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Security"><!---->Security<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#traceability" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Traceability"><!---->Traceability<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#scaling" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Scaling"><!---->Scaling<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/handbook/0_concept.html#testing" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Testing"><!---->Testing<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/handbook/1_get-started.html" class="nav-link sidebar-link sidebar-page" aria-label="Get started"><span class="icon fa-bolt fas"></span>Get started<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/handbook/2_create-new-service.html" class="nav-link sidebar-link sidebar-page" aria-label="Create new Service"><span class="icon fa-wand-sparkles fas"></span>Create new Service<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/handbook/3_error-handling.html" class="nav-link sidebar-link sidebar-page" aria-label="Error handling"><span class="icon fa-bugs fas"></span>Error handling<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/handbook/4_hooks.html" class="nav-link sidebar-link sidebar-page" aria-label="Hooks"><span class="icon fa-anchor fas"></span>Hooks<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/handbook/5_custom_events.html" class="nav-link sidebar-link sidebar-page" aria-label="Custom events"><span class="icon fa-envelope-open-text fas"></span>Custom events<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/handbook/6_testing.html" class="nav-link sidebar-link sidebar-page" aria-label="Testing"><span class="icon fa-vial-circle-check fas"></span>Testing<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/handbook/7_scale.html" class="nav-link sidebar-link sidebar-page" aria-label="Scaling"><span class="icon fa-cloud fas"></span>Scaling<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/handbook/8_Logging_and_metrics.html" class="nav-link sidebar-link sidebar-page" aria-label="Logging and metrics"><span class="icon fa-chart-line fas"></span>Logging and metrics<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/handbook/9_Event_bridge.html" class="nav-link sidebar-link sidebar-page" aria-label="Event bridge"><span class="icon fa-bridge fas"></span>Event bridge<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/handbook/10_insights.html" class="nav-link sidebar-link sidebar-page" aria-label="Insights"><span class="icon fa-user-secret fas"></span>Insights<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/handbook/11_Builder.html" class="nav-link sidebar-link sidebar-page" aria-label="builder"><span class="icon fa-wrench fas"></span>builder<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon fa-brain fas"></span>Concept of the nodejs PURISTA typescript based framework</h1><div class="page-info"><span class="author-info" aria-label="Author🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://sebastianwessel.com" target="_blank" rel="noopener noreferrer">Sebastian Wessel</a></span><span property="author" content="Sebastian Wessel"></span></span><span class="date-info" aria-label="Writing Date📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>June 21, 2022</span><meta property="datePublished" content="2022-06-21T20:10:21.000Z"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#main-idea" class="router-link-active router-link-exact-active toc-link level2">Main idea</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#example" class="router-link-active router-link-exact-active toc-link level2">Example</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#seriously-a-new-framework" class="router-link-active router-link-exact-active toc-link level2">Seriously, a new framework</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#the-old-stars" class="router-link-active router-link-exact-active toc-link level3">The old stars</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#the-unicorns" class="router-link-active router-link-exact-active toc-link level3">The unicorns</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#the-philosophers" class="router-link-active router-link-exact-active toc-link level3">The philosophers</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#purista" class="router-link-active router-link-exact-active toc-link level3">PURISTA</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#focus-on-business-logic" class="router-link-active router-link-exact-active toc-link level3">Focus on business logic</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#separation-of-concerns" class="router-link-active router-link-exact-active toc-link level3">Separation of concerns</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#decuple-from-infrastructure-and-architecture" class="router-link-active router-link-exact-active toc-link level3">Decuple from infrastructure and architecture</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#k-i-s-s" class="router-link-active router-link-exact-active toc-link level3">K.I.S.S.</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#low-learning-curve" class="router-link-active router-link-exact-active toc-link level3">Low learning curve</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#predictable-behaviour" class="router-link-active router-link-exact-active toc-link level3">Predictable behaviour</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#maintenance" class="router-link-active router-link-exact-active toc-link level3">Maintenance</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#security" class="router-link-active router-link-exact-active toc-link level3">Security</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#traceability" class="router-link-active router-link-exact-active toc-link level3">Traceability</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#scaling" class="router-link-active router-link-exact-active toc-link level3">Scaling</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/handbook/0_concept.html#testing" class="router-link-active router-link-exact-active toc-link level3">Testing</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h2 id="main-idea" tabindex="-1"><a class="header-anchor" href="#main-idea" aria-hidden="true">#</a> Main idea</h2><p>The concept behind PURISTA is quite simple and a message based approach.<br> There are message senders and receivers. Messages are exchanged via an event bridge.</p><p>The logic resists in Service. They are the DDD part.<br> A service is a logical group of commands and subscriptions which are relating to a single domain.</p><p>Commands are active, triggered by someone, and the caller expects some kind of result. This is similar to functions in any programming language. It means the caller knows about the existence of the called service &amp; command, and he knows at least the input and output format and maybe something about possible error responses. How the called command function is implemented or how it is working is unknown and not related to the caller.</p><p>Subscriptions are a passive part, like event listeners. A subscription is triggered as soon as a message matches the subscription criteria. The producer of this message does not have knowledge about this subscription.</p><p>Commands and subscription can call other commands from same or other service by sending command messages. This means, there is a clean, structured and unified internal interface, which is also observable and traceable with error handling out of the box.</p><p>This allows real complex setups and scenarios.</p><h2 id="example" tabindex="-1"><a class="header-anchor" href="#example" aria-hidden="true">#</a> Example</h2><p>We will use a simple example for better understanding.</p><div class="language-mermaid ext-mermaid line-numbers-mode"><pre class="language-mermaid"><code><span class="token keyword">flowchart</span> RL
    browser<span class="token text string">[Browser]</span> <span class="token arrow operator">--&gt;</span><span class="token label property">|/api/v1/user/sign-up|</span> httpService<span class="token text string">(HTTPS-Service)</span>
    httpService<span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span> <span class="token label property">user payload</span> <span class="token arrow operator">--&gt;</span></span>eventBridge<span class="token text string">(Eventbridge)</span>
    eventBridge<span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span> <span class="token label property">user payload</span> <span class="token arrow operator">--&gt;</span></span>signUp
    <span class="token keyword">subgraph</span> UserService
        signUp
        verifyEmail<span class="token text string">(verifyEmail)</span>
    <span class="token keyword">end</span>
    signUp<span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span> <span class="token label property">user id</span> <span class="token arrow operator">--&gt;</span></span>eventBridge
    eventBridge <span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span> <span class="token label property">user id</span> <span class="token arrow operator">--&gt;</span></span> httpService
    httpService <span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span> <span class="token label property">user id</span> <span class="token arrow operator">--&gt;</span></span> browser
    eventBridge <span class="token arrow operator">-.-&gt;</span> verifyEmail
    signUp <span class="token arrow operator">--&gt;</span> database
    database <span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span> <span class="token label property">user id</span> <span class="token arrow operator">--&gt;</span></span> signUp
    verifyEmail <span class="token inter-arrow-label"><span class="token arrow-head arrow operator">--</span> <span class="token label property">set token</span> <span class="token arrow operator">--&gt;</span></span>database
    verifyEmail <span class="token arrow operator">--&gt;</span> eventBridge
    eventBridge <span class="token arrow operator">--&gt;</span> sendMail
    <span class="token keyword">subgraph</span> EmailService
        sendMail
    <span class="token keyword">end</span>

    eventBridge <span class="token arrow operator">-.-&gt;</span> countEmails
    <span class="token keyword">subgraph</span> Audit
        countEmails<span class="token text string">(countEmails)</span>
    <span class="token keyword">end</span>
    countEmails <span class="token arrow operator">--&gt;</span> database
    database<span class="token text string">[(Database)]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>the browser calls the endpoint <code>/api/v1/user-sign-up</code></li><li>the web server will send a command request <code>signUp</code> to service <code>User</code></li><li>the command <code>signUp</code> is responding to web server with the ID of this new created user</li><li>the web server will respond to the browsers request</li><li>the service <code>User</code> has a subscription <code>verifyEmail</code> which is listening to all successful calls to <code>signUp</code> command</li><li>the subscription <code>verifyEmail</code> in service <code>User</code> is creating a verification token which is stored in user&#39;s domain, creates the email subject and body and is sending a command <code>sendEmail</code> to the service <code>Email</code></li><li>the <code>sendEmail</code> command in service <code>Email</code> connects to the mail provider and sends the email</li><li>in service <code>Audit</code> we have also some subscription <code>countEmails</code> which is listening to all invocation responses of command <code>sendMail</code> from service <code>Email</code> which is counting success and failure. ...and so on</li></ul><p>Each of these steps is only one single and simple function, which is easy to implement, to understand and to test. Each of these steps has input-output-validation in place. Each step has its own error handling and responses are divided into success and error response. Each step is decoupled from the others.</p><p>In our example: If the creation of the new user is failing, none of the other steps is started and the browser receives a proper error response. If sending of verification email is failing, it does not affect the user creation, and it is traced by the <code>Audit</code> service.</p><p>If you might want to extend this, to send two-factor-pin via SMS, you simply need to add a new service <code>SMS</code> with a command <code>sendSms</code>. Add a subscription <code>send2FA</code> in service <code>User</code>, which is listening to successful user creations, like the <code>verifyEmail</code> subscription.<br> Invoke <code>sendSms</code> in service <code>SMS</code> from subscription <code>send2FA</code> in service <code>User</code>.</p><p>We might need a new version of user sign up, because now, the input payload has a required field <code>phoneNumber</code> for our 2FA. But we do not want to break any existing and working thing.</p><p>We simply copy the whole service <code>User</code> to a new service <code>User2</code>.<br> For service <code>User2</code> we bump version to <code>2</code>.</p><p>All API endpoints for <code>User2</code> are now directly available as <code>api/v2/</code> and our new Service is also reachable by all other services.<br> Now we can safely make our changes in <code>User2</code> and mark <code>api/v1/</code> as deprecated.<br> As soon as we finished our changes, we can completely switch to the new version and remove the old one.</p><h2 id="seriously-a-new-framework" tabindex="-1"><a class="header-anchor" href="#seriously-a-new-framework" aria-hidden="true">#</a> Seriously, a new framework</h2><p>You might ask yourself why the hell there is a need for some other framework.<br> Because there are more or less three kinds of frameworks out there.</p><h3 id="the-old-stars" tabindex="-1"><a class="header-anchor" href="#the-old-stars" aria-hidden="true">#</a> The old stars</h3><p>The most mature ones, are focused on creating some kind of web server.<br> No matter if it is <a href="https://expressjs.com" target="_blank" rel="noopener noreferrer">express.js<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, <a href="https://hapi.dev" target="_blank" rel="noopener noreferrer">hapi<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, [restify](http://restify.com/<a href="https://www.fastify.io" target="_blank" rel="noopener noreferrer">fastify<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and all the other cool ones.<br> There is a huge ecosystem around these frameworks.<br> They are pretty cool and helpful creating web servers, but they don&#39;t help you to build the logic behind endpoints.<br> PURISTA does not try to replace them. PURISTA will bring the missing part for building the logic behind the endpoints, and you should be able to combine them.</p><p>In fact, it works pretty well, to combine these frameworks with PURISTA.<br> The provided package <code>@purista/httpserver</code> is using fastify under the hood.</p><h3 id="the-unicorns" tabindex="-1"><a class="header-anchor" href="#the-unicorns" aria-hidden="true">#</a> The unicorns</h3><p>The next kind of frameworks are the unicorns - the specialists.<br> They are focused on solving specific issues and requirements, and do not try to &quot;fit for all use cases&quot;.<br> Let&#39;s give a big 👏 to <a href="https://feathersjs.com" target="_blank" rel="noopener noreferrer">Feathers<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and <a href="https://moleculer.services" target="_blank" rel="noopener noreferrer">Moleculer<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> as cool examples for this category.<br> Pretty sure there are some other awesome unicorns out there. Just let us know!</p><p>Highly recommended trying them out, play around, do some cool stuff, and maybe they perfectly fit for your next project.</p><h3 id="the-philosophers" tabindex="-1"><a class="header-anchor" href="#the-philosophers" aria-hidden="true">#</a> The philosophers</h3><p>The third category are the philosophers. They are focused on patterns, styles, conventions, abstractions, layers and wrappers.<br> You end up with framework specific decorators, dependency injections and other (uncool) stuff like that. Let&#39;s mention NestJs and Ts.ED at this point.<br> They are the complete opposite of PURISTA and the antipattern of PURISTA&#39;s main idea.</p><h3 id="purista" tabindex="-1"><a class="header-anchor" href="#purista" aria-hidden="true">#</a> PURISTA</h3><p>PURISTA tries to have no framework specific stuff as much as possible.<br> It does not try to treat developers to use certain patterns, conventions or styles.<br> It tries to separate, decouple things and to avoid having dependencies within your logic.</p><p>For example, with dependency injections, you have the need, that your dependency is instantiated within your current process.<br> This is a first warning sign for questions like &quot;How to scale things up?&quot; and &quot;How to handle multiple instances&quot; and &quot;How to maintain&quot;.</p><p>You quickly end up with one dependency injection for database, one for websockets, one for logging, one for...<br> ...all they need to be available in your current process...<br> At the end, you&#39;ve built one monolithic monster, which might become totally unpredictable and maintainable.<br> It is the scenario you should avoid: simple changes on one end, and it possibly fails on some other end.</p><p>PURISTA tries to avoid and solve this issue by using a unified event bridge and to adapt some domain driven development patterns. This means you are able to break this dependency chain, and you are able to use resources which are available somehow, somewhere (blackbox).<br> This also increases stability, because if one part isn&#39;t working, the rest won&#39;t crash or stop working from a technical perspective.<br> PURISTA adapts the idea of microservices and serverless functions from that point of view.</p><p>As an example:</p><p>You might have some service function which receives a http request.<br> You process the data, you persist the data, and you send some message via websocket.</p><p>With dependency injections, you will need to have error handling within your function for processing the data, persisting the data and sending messages over websocket. And in case the persistency is unavailable or the websocket connection gets temporary lost - you do what?<br> You can start adding more abstractions, layers and stuff to workaround, but does this really fix the underlaying problem and is it worth to have such code bloat from testing and maintaining perspective?</p><p>With the approach of PURISTA, you get a validated input, you process the data, you persist somehow, and you send a message via websocket somehow.<br> Each of the steps has verified in-/output and basic error handling out of the box.</p><p>Depending on the event bridge you choose:<br> You can build a real robust and scalable system, because you can set up your system to be able to be fully asynchronous and recoverable.<br> If the persistence part isn&#39;t available right now, the information can be hold within the event bridge until the persistence part is available.<br> You can build the system to send the message via websocket, no matter if the persistence part is done. Or you can decide to trigger the websocket part as soon as the persistence part is done. And again, you can decide what should happen, when the websocket connection is currently unavailable.</p><p>This is a huge benefit to control how to handle such cases, as you are now able to control if you like to lose business data or not.</p><p>You can scale out as you need, as there are maybe multiple instances running which are able to persist data or to send websocket messages.</p><h3 id="focus-on-business-logic" tabindex="-1"><a class="header-anchor" href="#focus-on-business-logic" aria-hidden="true">#</a> Focus on business logic</h3><p>These 4 words are describing the intention and motivation behind PURISTA.</p><p>Focus on business logic, solve the client&#39;s issue, provide the features and just deliver!<br> It might need to change the mindset a bit. The question is not how to implement some feature. The question is what exactly does the user/consumer need and why.</p><p>Just go through your own code and check what is your daily business?</p><p>You get some kind of input, you validate it, you compute something, request some data, maybe persist some data, and you return some result or you trigger some other function.<br> You will have some error handling and some logging.</p><p>How much setup, configuration, abstraction, layers do you really need, and how much code do you produce for even simple stuff?</p><h3 id="separation-of-concerns" tabindex="-1"><a class="header-anchor" href="#separation-of-concerns" aria-hidden="true">#</a> Separation of concerns</h3><p>Depending on your experiences, this might be hard or easy going. Separation of concerns is more a kind of mindset, than a fixed pattern or style.</p><p>As an example:</p><p>You got a task &quot;Implement user onboarding&quot;, and there is something like &quot;allow only valid emails, store the user in database and send a welcome mail&quot;.<br> From a feature or business perspective, this is one single step &quot;user onboarding&quot;.<br> Many developers will automatically get a POST http endpoint in mind - something like:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">async</span> <span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>email<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>emailRegex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token string">&#39;Invalid email&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getDbClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> user<span class="token operator">:</span>User<span class="token operator">|</span><span class="token keyword">undefined</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    user <span class="token operator">=</span> <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">&#39;insert into user values (....)&#39;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>error <span class="token keyword">instanceof</span> <span class="token class-name">ConstraintViolation</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token string">&#39;User already exists&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//...further error handling</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> provider <span class="token operator">=</span> <span class="token function">getEmailProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">await</span> provider<span class="token punctuation">.</span><span class="token function">sendEmail</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>email<span class="token punctuation">,</span><span class="token string">&#39;Welcome&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token punctuation">{</span> id<span class="token operator">:</span> user<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span> 

<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Many developers would now instantly start with abstractions, as they want to improve readability, testing and so on.</p><p>So, you would probably see some <code>isUserEmailValid</code> abstraction function (100% for sure 😂), some wrappers around the database stuff, and some abstractions around sending the email. This might solve the developers issues, and produces a lot of nice bloat code.</p><p><strong>BUT it does not solve the business issue</strong>!</p><p>In fact, the issues and complexity are only hidden behind more code. At the end, you can write abstractions as much as you want, but at some point you need to do the &quot;real&quot; logic.<br> Don&#39;t get me wrong! Simply keep the balance. Abstractions and wrappers are ok and valid. But they are also a warning signal. Ask yourself always, why do you need it at some point. Can you avoid it with better design choices? Does it improve things from a business perspective?</p><p>In this example, one of the issues is: &quot;how to retry email send, if the users is persisted&quot;.<br> Try to solve issues by design! Not by more error handling or additional code logic.<br> Also, when the user onboarding becomes more complex (like creation of resources for new user), this function will become very quickly the little &quot;nobody wants to touch me&quot; monster.</p><p>With separation of concerns in mind, this will turn into 3 main parts.</p><ol><li>Input validation is one single step, and it does not matter what happens with the validated input afterwards.</li><li>Storing something in a database, and maybe handling database connection or issues, is the next part. It does not matter what happens &quot;around&quot; this persistence part. Simply take something and put it into database. That&#39;s it.</li><li>Sending an email is our third step. In this step, only the email is sent. It does not matter when, how the user is created or persisted. And you can retry the email part as you like.</li></ol><p>So, our complex &quot;onboarding&quot; is implemented, but the parts are simple and only a few lines of code. These are easy to understand, maintain and testable. You can also extend the onboarding flow by adding more parts (subscriptions, emitting events, invoking other functions). Or you can change your email provider or even database, without touching the other parts/tests.</p><p>PURISTA helps to implement and manage these small parts. Also, some parts are more or less available out of the box with low or no code implementation.</p><p>In our example, the database persistence will become a simple service function with a zod input schema definition. This provides a lot of input validation and error handling out of the box. Our send email part, will become a subscription. The subscription is decoupled from the http request.</p><h3 id="decuple-from-infrastructure-and-architecture" tabindex="-1"><a class="header-anchor" href="#decuple-from-infrastructure-and-architecture" aria-hidden="true">#</a> Decuple from infrastructure and architecture</h3><p>One of the key features of PURISTA is the separation of business logic from architectural and/or infrastructure decisions.<br> It&#39;s done by the concept of having services with functions and subscriptions which are communicating over some event bridge.</p><p>How they are orchestrated, deployed and where they are running does not matter.</p><p>You can decide, if you want to deploy your logic as a single monolith or in some microservice style or as serverless functions, or if you like a mix of multiple styles.<br> There is no need to decide if you like to use your own server or some cloud provider.</p><p>It also allows integrating other services and providers, without touching the core of your application. Simply add them to the event bus.<br> This is also a great option for larger projects, with multiple teams. Each team can work independently.</p><h3 id="k-i-s-s" tabindex="-1"><a class="header-anchor" href="#k-i-s-s" aria-hidden="true">#</a> K.I.S.S.</h3><p>Keep things as simple as possible and do not overcomplicate everything.<br> Do not try to do some fancy stuff only <em>&quot;Because I can&quot;</em>.<br> Do not try to write typescript in the style of other languages like JAVA. If you want to write Java code - it&#39;s fine - but then please use Java.</p><p>Do not lose yourself in patterns and abstractions and stuff like this.<br> Object/class style fits best for your current needs? Use it! Functional programming style makes more sense at some other point? Use it! An abstraction at a specific code snipped makes sense? Do it! Some layer might not be necessary or overkill? Remove it!</p><p>You got all the knowledge! Use it! Mix it up! Your code - your rules!<br> Do not write hundreds of code lines, only because of &quot;that is the correct way to follow the XXX pattern&quot; or &quot;it is the way you have to use the framework&quot;.</p><p>Don&#39;t write 100 lines if you can do it in 5 (only if you don&#39;t get payed per line, of course).</p><h3 id="low-learning-curve" tabindex="-1"><a class="header-anchor" href="#low-learning-curve" aria-hidden="true">#</a> Low learning curve</h3><p>Using PURISTA should be easy and joyfull.<br> Even with beginner level knowledge it should be possible to build cool, stable and production ready stuff.<br> There are lots of &quot;If you want or if you need, you can...&quot;.<br> There are some &quot;It is recommended, to ...&quot;. But there are only a few &quot;You must...&quot;.</p><p>Also, there is a wild mix of adaptions from known things like microservices, domain driven development, functional programming, event patterns, messaging systems. So, anybody with some fundamental experiences, will get the &quot;ah, I know this, it&#39;s like...&quot; effect.<br> No rocket science at all - but hopefully it rocks your next project 🚀.</p><h3 id="predictable-behaviour" tabindex="-1"><a class="header-anchor" href="#predictable-behaviour" aria-hidden="true">#</a> Predictable behaviour</h3><p>Predictable behaviour is one of the fundamentals of PURISTA.<br> As an example, let&#39;s mention the integrated input/output validation here.<br> In normal scenarios, every function input and result output is validated against a schema at runtime and has proper types out of the box during development.<br> This means you already know there will be no technical incorrect input at any point, no unwanted output which might leak some data, and you exactly know the error handling on invalid data.<br> Also, any thrown error will be automatically caught, logged and transformed into a defined error(-response) shape.</p><p>Especially javascript/typescript is often blamed for its error handling, but this also some opportunity.<br> It is js/typescript - let it throw! PURISTA will handle the worst case for you!<br> You don&#39;t need to implement error handling for any possible error which might occur.<br> Handle only the errors you need to handle at business level and improve your code, architecture and infrastructure over time to avoid technical errors!<br> There is simply no need, to have always some wrapped result, where you need to check, if it is a success or failure. And if it is a failure, what kind of failure and how to handle it and how to bubble up the error.</p><p>The usage of some unified exchange bus allows to highly configure what &quot;happens when...&quot;. It allows building setups which are able to replay things, recover states, execute &quot;when available&quot; and so on.</p><h3 id="maintenance" tabindex="-1"><a class="header-anchor" href="#maintenance" aria-hidden="true">#</a> Maintenance</h3><p>Maintenance is very important to any project and highly impact costs and speed of future enhancements.</p><p>PURISTA tries to lower the effort and costs for maintaining by splitting high complex scenarios into small, simple pieces in combination with defined interfaces and the ability to version services.</p><p>This offers opportunities, like having different versions in parallel, instead of dangerous &quot;close eyes, press switch button and fingers crossed&quot;.</p><p>But more important:</p><p>Smaller pieces are easier to understand, easier to change, easier to test, and you avoid the cascading &quot;if I touch this, I need to touch everything&quot;</p><h3 id="security" tabindex="-1"><a class="header-anchor" href="#security" aria-hidden="true">#</a> Security</h3><p>To build secure and stable software is essential for success.</p><p>Using PURISTA does not mean you end up with a 100% bulletproof solution without any effort. But it reduces or prevents a lot of possible issues by design.<br> Having a solid input/output validation on any single step, means an increase of overhead and also longer execution time. But it is worth to have it in place.<br> You prevent the system by design to allow technical invalid input (implausible), you verify the technical correctness (plausible) on each step, and you prevent your system to leak data accidentally.<br> It also simplifies any audit, as you can go through each step of your system, and you can prove &quot;I verify that... and on error it will... it will not allow to...&quot;.</p><p>So, PURISTA does not even try to avoid security issues like low encryptions, multi-vector-high profile hacker attacks or similar. But it builds a solid basement for your software. Based on validation, unified interfaces, error handling, predictable behaviour and strict separation.<br> And a stable, solid and robust software, which only exposes needed information, means higher barrier for attackers and lower the risks for bugs.</p><h3 id="traceability" tabindex="-1"><a class="header-anchor" href="#traceability" aria-hidden="true">#</a> Traceability</h3><p>Traceability comes in place at least when something does not work as expected.</p><p>One kind of issues are the one which are the more technical ones. Some function is throwing some error. In other software designs, you often end up with some code line number, and you start digging into the code, follow all the logic through a lot of files. You jump from one abstraction to the next one. You check wrapper by wrapper, interfaces and all that stuff.</p><p>The other kind of issues are even harder to track. If the stuff is working from technical point of view, but not from business view. In this case, you need to walk through the code logic, and check if the business logic is matching the implementation logic. And depending on your abstractions, layers and wrappers you will quickly blow up your head.</p><p>The concept of PURISTA will help you in both cases. You simply follow the message flow. Check the input/output of the functions, and you will find the root cause quickly.<br> You are able to follow single requests, because each one has a unique trace id all the way down. You can attach external providers and software solutions to track errors on each of your functions. You can track metrics on each of your functions.</p><h3 id="scaling" tabindex="-1"><a class="header-anchor" href="#scaling" aria-hidden="true">#</a> Scaling</h3><p>PURISTA adapts the ideas from microservices and serverless functions to separate the logic into small pieces and to use some way of unified communication. This means you can scale things as you need.</p><p>The main difference is, that you do not need to decide at the very first step, how you like to deploy or how you like to scale at the end.<br> You can simply start local and scale when you need. You are not nailed down to start with infrastructure or architectural questions and setups.</p><p>Start small and efficient, like you would do with the beginners &quot;hello world&quot; example, and move to the solution which fits your needs.</p><p>You are not limited to scale &quot;the whole blob&quot;. You are able to scale parts of your software differently.</p><p>As an example, you might have some function which takes longer for processing data. This means this function can&#39;t handle the same amount of requests, then the rest of your system. You are able to scale this specific part by adding more instances, without the need to have more instance for all of your functions.</p><h3 id="testing" tabindex="-1"><a class="header-anchor" href="#testing" aria-hidden="true">#</a> Testing</h3><p>The core concept of PURISTA is helping you, when it comes to testing.<br> Check out the handbook chapter <a href="/handbook/6_testing.html" class="">Testing</a></p></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">Last update: </span><!----></div><div class="meta-item contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: sebastianwessel@users.noreply.github.com">Sebastian Wessel</span><!--]--><!--]--></div></footer><nav class="page-nav"><!----><a href="/handbook/1_get-started.html" class="nav-link next" aria-label="Get started"><div class="hint">Next<span class="arrow right"></span></div><div class="link">Get started<span class="icon fa-bolt fas"></span></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">Made from developers for developers with ❤️ | <a href="/privacy.html">Privacy</a> | <a href="javascript:cc.showSettings()">Cookie preferences</a> | <a href="/imprint.html">Imprint</a></div><div class="copyright">Copyright © 2022 Sebastian Wessel</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.520110ff.js" defer></script>
  </body>
</html>
